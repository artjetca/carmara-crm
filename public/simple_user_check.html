<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile Check</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; padding: 20px; }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
        .info { color: blue; }
        .solution { background: #f0f8ff; padding: 15px; border: 1px solid #ccc; border-radius: 5px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>ğŸ” ç”¨æˆ¶é…ç½®æª¢æŸ¥</h1>
    <p>åŸºæ–¼è¨ºæ–·çµæœï¼Œæˆ‘å€‘ç™¼ç¾ä½ å·²æˆåŠŸç™»å…¥ï¼Œä½†ç¼ºå°‘é—œéµé…ç½®ã€‚</p>
    
    <div class="info">
        <h3>ğŸ“Š è¨ºæ–·æ‘˜è¦ï¼š</h3>
        <ul>
            <li>âœ… ç”¨æˆ¶å·²èªè­‰ï¼š<code>e1300f5a-22bc-4277-9bb3-7b145271c49e</code></li>
            <li>âœ… Emailï¼š<code>rosariog.almenglo@gmail.com</code></li>
            <li>âŒ ç¼ºå°‘ user_profiles è¨˜éŒ„</li>
        </ul>
    </div>

    <div class="solution">
        <h3>ğŸ”§ è§£æ±ºæ–¹æ¡ˆï¼š</h3>
        <p><strong>å•é¡Œï¼š</strong> ä½ çš„ç”¨æˆ¶å¸³æˆ¶å­˜åœ¨æ–¼èªè­‰ç³»çµ±ä¸­ï¼Œä½†åœ¨ <code>user_profiles</code> è¡¨ä¸­æ²’æœ‰å°æ‡‰è¨˜éŒ„ã€‚</p>
        
        <p><strong>ä¿®å¾©æ–¹æ³•ï¼š</strong></p>
        <ol>
            <li>åœ¨ Supabase Dashboard â†’ SQL Editor ä¸­åŸ·è¡Œä»¥ä¸‹ SQLï¼š</li>
        </ol>
        
        <textarea readonly style="width: 100%; height: 200px; font-family: monospace; background: #f5f5f5; padding: 10px;">
-- ç‚ºç•¶å‰ç”¨æˆ¶å‰µå»º user_profiles è¨˜éŒ„
INSERT INTO public.user_profiles (
    id,
    email,
    full_name,
    name,
    created_at,
    updated_at
) VALUES (
    'e1300f5a-22bc-4277-9bb3-7b145271c49e',
    'rosariog.almenglo@gmail.com',
    'Rosario G. Almenglo',
    'Rosario',
    NOW(),
    NOW()
) ON CONFLICT (id) DO UPDATE SET
    email = EXCLUDED.email,
    full_name = EXCLUDED.full_name,
    updated_at = NOW();
        </textarea>
        
        <p><strong>ä¹‹å¾Œè«‹ï¼š</strong></p>
        <ol start="2">
            <li>ç¢ºèªå·²åœ¨ Supabase ä¸­åŸ·è¡Œ <code>fix_scheduled_messages_fk.sql</code> è…³æœ¬</li>
            <li>é‡æ–°æ•´ç† Communications é é¢</li>
            <li>æ¸¬è©¦è¨Šæ¯å„²å­˜åŠŸèƒ½</li>
        </ol>
    </div>

    <div class="info">
        <h3>ğŸ¯ é æœŸçµæœï¼š</h3>
        <p>åŸ·è¡Œä¸Šè¿° SQL å¾Œï¼Œä½ å°‡èƒ½å¤ ï¼š</p>
        <ul>
            <li>âœ… åœ¨ Communications é é¢é¸æ“‡å®¢æˆ¶</li>
            <li>âœ… æˆåŠŸå„²å­˜æ’ç¨‹è¨Šæ¯</li>
            <li>âœ… ä¸å†å‡ºç¾ HTTP 409 éŒ¯èª¤</li>
        </ul>
    </div>

    <p><a href="/" style="color: blue; text-decoration: none;">â† è¿”å›ä¸»æ‡‰ç”¨ç¨‹å¼</a></p>
</body>
</html>
